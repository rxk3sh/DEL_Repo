<!--
* 
* @ Name    :   del_commentsPage
* @ Purpose :   This is a component for entering new comment and view all the comments for a case.
* @ Author  :   Rakesh Nayak
*
*   Date            |  Developer Name               |  Version      |  Changes
* ======================================================================================================
*   17-06-2022      |  rakesh.nayak@absyz.com      |  1.0          |  Initial Version
*
-->
<template>
    <!--lightning-spinner: Used during updation of comments after a comment is inserted-->
    <div if:true={blnIsLoading}>
        <lightning-spinner
            alternative-text="Loading..." variant="brand" class="slds-is-fixed">
        </lightning-spinner>
    </div>
    <!--lightning-card: holds the casecomments-->
    <div style="margin: 10px 250px 0px 0px">
    <lightning-card>
        <div class="slds-grid slds-wrap">
            <div class="slds-col slds-large-size_10-of-12 slds-medium-size_10-of-12 slds-size_10-of-12">
                <lightning-input type="text" class="nullify"  value="" placeholder="Write a comment..." variant="label-hidden">
                </lightning-input>
            </div>
            <div class="slds-col slds-large-size_1-of-12 slds-medium-size_1-of-12 slds-size_1-of-12">
                <lightning-button-icon icon-name="utility:arrowup" variant="brand" onclick={handlechange}></lightning-button-icon>
            </div>
            <div class="slds-col slds-large-size_11-of-12 slds-medium-size_11-of-12 slds-size_11-of-12">
                <div class="slds-var-m-around_medium" style="position: relaive;" >
                    <template if:true={list_comments}>
                        <template for:each={list_comments} for:item="comm">
                            <div key={comm.Id}>
                                <div style="display:inline-block;padding-bottom:20px; position:absolute" class="slds-grid_vertical-align-start">
                                <lightning-avatar variant="circle" src={comm.CreatedBy.SmallPhotoUrl} fallback-icon-name="standard:person_account"  class="slds-var-m-right_small"></lightning-avatar>
                                </div>
                                <div style="display:inline-block; padding-left: 40px">
                                    <a href="" onclick={navigateToUser} data-id={comm.CreatedById} style="font-weight:bold ;">{comm.CreatedBy.Name}</a>
                                <div style="font-size:0.9em;" >
                                    <lightning-formatted-date-time
                                    value={comm.CreatedDate}
                                    year="numeric"
                                    day="2-digit"
                                    month="long"
                                    hour="2-digit"
                                    minute="2-digit"
                                    >
                                </lightning-formatted-date-time>
                                </div>
                                <div>{comm.Body__c}</div>
                                </div>
                            </div>
                                
                                
                            <hr key={comm.Id} style="margin:8px 0px">
                        </template>
                    </template>
                </div>
            </div>
          </div>
        
    </lightning-card>
</div>
</template>