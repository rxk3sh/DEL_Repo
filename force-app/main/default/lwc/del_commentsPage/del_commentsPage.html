<!--
* 
* @ Name    :   del_commentsPage
* @ Purpose :   This is a component for entering new comment and view all the comments for a case.
* @ Author  :   Rakesh Nayak
*
*   Date            |  Developer Name               |  Version      |  Changes
* ======================================================================================================
*   17-06-2022      |  rakesh.nayak@absyz.com      |  1.0          |  Initial Version
*
-->
<template>
    <!--lightning-spinner: Used during updation of comments after a comment is inserted-->
    <div if:true={blnIsLoading}>
            <lightning-spinner
                alternative-text="Loading..." variant="brand" class="slds-is-fixed">
            </lightning-spinner>
    </div>
    <!--lightning-card: holds the casecomments-->
        <lightning-card>
            <lightning-layout horizontal-align="spread" class="slds-grid">
                <lightning-layout-item class="slds-col slds-large-size_10-of-12 slds-medium-size_10-of-12 slds-small-size_10-of-12">
                    <lightning-input type="text" class="nullify"  value="" placeholder="Write a comment..." variant="label-hidden"></lightning-input>
                </lightning-layout-item>
                <lightning-layout-item class="slds-col slds-large-size_2-of-12 slds-medium-size_2-of-12 slds-small-size_10-of-12">
                    <lightning-button-icon icon-name="utility:arrowup" variant="brand" onclick={handlechange}></lightning-button-icon> 
                </lightning-layout-item>
            </lightning-layout>
                <div class="slds-col slds-large-size_11-of-12 slds-medium-size_11-of-12 slds-small-size_11-of-12">
                    <div class="slds-var-m-around_medium" style="position: relative;" >
                        <template if:true={list_Comments}>
                            <template for:each={list_Comments} for:item="objCaseComment">
                                <div key={objCaseComment.Id}>
                                    <div style="display:inline-block;padding-bottom:20px; position:absolute" class="slds-grid_vertical-align-start">
                                        <lightning-avatar variant="circle" src={objCaseComment.CreatedBy.SmallPhotoUrl} fallback-icon-name="standard:person_account"  class="slds-var-m-right_small"></lightning-avatar>
                                    </div>
                                    <div style="display:inline-block; padding-left: 40px">
                                        <a href="" onclick={navigateToUser} data-id={objCaseComment.CreatedById} style="font-weight:bold ;">{objCaseComment.CreatedBy.Name}</a>
                                        <div style="font-size:0.9em;" >
                                            <lightning-formatted-date-time
                                                value ={objCaseComment.CreatedDate}
                                                year="numeric"
                                                day="2-digit"
                                                month="long"
                                                hour="2-digit"
                                                minute="2-digit"
                                                >
                                        </lightning-formatted-date-time>
                                        </div>
                                        <div>{objCaseComment.Body__c}</div>
                                    </div>
                                </div>
                                <hr key={objCaseComment.Id} style="margin:8px 0px">
                            </template>
                        </template>
                    </div>
                </div>
                </div>
        </lightning-card>
</template>